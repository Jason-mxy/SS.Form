<!-- template start -->

<link rel="stylesheet" type="text/css" href="style.min.css" />
<div class="bootstrap-form">

	<div class="container">
		<div class="py-5 text-center">

			<h2>
				{{ title }}
			</h2>
			<p class="lead">
				{{ description }}
			</p>
		</div>

		<div v-show="!isSuccess">

			<div class="mb-3" v-for="schema in schemas">
				<label for="email">
					{{ schema.title }}
					<span class="text-muted" v-if="schema.description">
						{{ schema.description }}
					</span>
					<i v-if="schema.isRequired">(必填)</i>
				</label>
				
				<div v-if="schema.fieldType === 'TextArea'" class="ss_form_body">
						<textarea class="form-control" v-bind:name="schema.attributeName" v-model="attributes[schema.attributeName]" :class="{'error': errors.has(schema.attributeName) }"
							v-validate="{ required: schema.isRequired }"></textarea>
					</div>
					<div v-else-if="schema.fieldType === 'CheckBox'" class="ss_form_body">
						<div v-for="item in schema.items">
							<input type="checkbox" v-bind:id="schema.attributeName + '_' + item.id" v-bind:name="schema.attributeName" v-bind:value="item.value"
								v-model="attributes[schema.attributeName]">
							<label v-bind:for="schema.attributeName + '_' + item.id">{{ item.value }}</label>
							<input v-if="item.isExtra" type="text" value="" v-bind:name="schema.attributeName + '_' + item.id" v-model="attributes[schema.attributeName + '_' + item.id]"
								style="width: 300px;margin-left: 10px;">
							<br />
						</div>
					</div>
					<div v-else-if="schema.fieldType === 'Radio'" class="ss_form_body">
						<div v-for="item in schema.items">
							<input type="radio" v-bind:id="schema.attributeName + '_' + item.id" v-bind:name="schema.attributeName" v-bind:value="item.value"
								v-model="attributes[schema.attributeName]">
							<label v-bind:for="schema.attributeName + '_' + item.id">{{ item.value }}</label>
							<input v-if="item.isExtra" type="text" value="" v-bind:name="schema.attributeName + '_' + item.id" v-model="attributes[schema.attributeName + '_' + item.id]"
								style="width: 300px;margin-left: 10px;">
							<br />
						</div>
					</div>
					<div v-else-if="schema.fieldType === 'SelectOne'" class="ss_form_body">
						<select class="form-control" v-bind:name="schema.attributeName" v-model="attributes[schema.attributeName]" :class="{'error': errors.has(schema.attributeName) }"
							v-validate="{ required: schema.isRequired }">
							<option v-for="item in schema.items" v-bind:value="item.Value">{{ item.Value }}</option>
						</select>
					</div>
					<div v-else-if="schema.fieldType === 'SelectMultiple'" class="ss_form_body">
						<select class="form-control" multiple style="height: 130px" v-bind:name="schema.attributeName" v-model="attributes[schema.attributeName]" :class="{'error': errors.has(schema.attributeName) }"
							v-validate="{ required: schema.isRequired }">
							<option v-for="item in schema.items" v-bind:value="item.Value">{{ item.Value }}</option>
						</select>
					</div>
					<div v-else="schema.fieldType === 'Text'" class="ss_form_body">
						<input class="form-control" type="text" value="" v-bind:name="schema.attributeName" v-model="attributes[schema.attributeName]" :class="{'error': errors.has(schema.attributeName) }"
							v-validate="{ required: schema.isRequired }" />
					</div>

				<div class="invalid-feedback" v-show="errors.has(schema.attributeName)">
						请填写此项
				</div>
			</div>

			<div v-show="errorMessage" style="display: none" class="invalid-feedback" v-html="errorMessage"></div>

			<div class="row" v-if="isCaptcha">
				<div class="col-md-3 mb-3">
					<label for="cc-expiration">Expiration</label>

					<img :src="imgUrl" @click="reload" style="width: 105px; height: 35px" />

					<input type="text" class="form-control" v-model="code">
					<div class="invalid-feedback">
							请输入验证码
					</div>
				</div>
			</div>

			<hr class="mb-4">
			<button class="btn btn-primary btn-lg btn-block" @click="submit" href="javascript:;">提 交</button>
		</div>

		<div v-show="isSuccess" style="display: none" class="ss_form_success">表单提交成功</div>


	</div>

</div>

<!-- template end -->